# ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –¥–µ–ø–ª–æ—è –Ω–∞ Railway

–ë—ã—Å—Ç—Ä—ã–π —Å–ø–∏—Å–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π –¥–ª—è –¥–µ–ø–ª–æ—è Optimizator Bot.

## üìã –ü–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

### üîë –ü–æ–ª—É—á–∏—Ç–µ –∫–ª—é—á–∏:
- [ ] **Telegram Bot Token** –æ—Ç [@BotFather](https://t.me/BotFather)
- [ ] **Anthropic API Key** –æ—Ç [console.anthropic.com](https://console.anthropic.com/)
- [ ] **YooKassa Shop ID –∏ Secret Key** –æ—Ç [yookassa.ru](https://yookassa.ru/)

### üìÅ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª—ã:
- [ ] `optimization_bot.py` - –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –±–æ—Ç–∞
- [ ] `templates/payment.html` - HTML –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- [ ] `static/payment.css` - —Å—Ç–∏–ª–∏
- [ ] `static/payment.js` - JavaScript
- [ ] `requirements.txt` - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- [ ] `railway.json` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Railway

## üöÄ –î–µ–ø–ª–æ–π –Ω–∞ Railway

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞:
- [ ] –ó–∞–π—Ç–∏ –Ω–∞ [railway.app](https://railway.app/)
- [ ] –ù–∞–∂–∞—Ç—å "Start a New Project"
- [ ] –í—ã–±—Ä–∞—Ç—å "Deploy from GitHub repo"
- [ ] –ü–æ–¥–∫–ª—é—á–∏—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:
–î–æ–±–∞–≤–∏—Ç—å –≤ **Variables**:

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ:**
- [ ] `TELEGRAM_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω`
- [ ] `ANTHROPIC_API_KEY=–≤–∞—à_–∫–ª—é—á`
- [ ] `PAYMENT_SYSTEM_URL=https://–≤–∞—à-–ø—Ä–æ–µ–∫—Ç.up.railway.app`

**–ü–ª–∞—Ç–µ–∂–∏:**
- [ ] `YOOKASSA_SHOP_ID=–≤–∞—à_shop_id`
- [ ] `YOOKASSA_SECRET_KEY=–≤–∞—à_secret_key`
- [ ] `TEST_MODE=true`
- [ ] `WEBHOOK_SECRET=—Å–ª—É—á–∞–π–Ω–∞—è_—Å—Ç—Ä–æ–∫–∞`

**–°–∏—Å—Ç–µ–º–Ω—ã–µ:**
- [ ] `PORT=5000`
- [ ] `ENABLE_SUBSCRIPTIONS=true`
- [ ] `RAILWAY_ENVIRONMENT=production`
- [ ] `DEBUG=false`
- [ ] `LOG_LEVEL=INFO`

### 3. –ü–æ–ª—É—á–µ–Ω–∏–µ URL:
- [ ] –î–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–µ–ø–ª–æ—è
- [ ] –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å URL –≤ **Settings** ‚Üí **Domains**
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `PAYMENT_SYSTEM_URL` –Ω–∞ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π URL

## ü§ñ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞

### –ú–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ @BotFather:
- [ ] –û—Ç–∫—Ä—ã—Ç—å [@BotFather](https://t.me/BotFather)
- [ ] `/mybots` ‚Üí –≤—ã–±—Ä–∞—Ç—å –±–æ—Ç–∞
- [ ] **Bot Settings** ‚Üí **Menu Button**
- [ ] –£–∫–∞–∑–∞—Ç—å:
  - Button text: `üí≥ –ü–æ–¥–ø–∏—Å–∫–∞`
  - Web App URL: `https://–≤–∞—à-–ø—Ä–æ–µ–∫—Ç.up.railway.app`

### –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
- [ ] –û—Ç–ø—Ä–∞–≤–∏—Ç—å `/setcommands` –≤ @BotFather
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥:
```
start - –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
help - –ü–æ–º–æ—â—å –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
stats - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∫—Ä–∏–ø—Ç–æ–≤
subscription - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–¥–ø–∏—Å–∫–µ
cancel - –û—Ç–º–µ–Ω–∏—Ç—å —Ç–µ–∫—É—â—É—é –æ–ø–µ—Ä–∞—Ü–∏—é
```

## üí∞ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ YooKassa

### Webhook –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:
- [ ] –í –ø–∞–Ω–µ–ª–∏ YooKassa ‚Üí **Webhook URL**
- [ ] –£–∫–∞–∑–∞—Ç—å: `https://–≤–∞—à-–ø—Ä–æ–µ–∫—Ç.up.railway.app/api/webhook`
- [ ] –í—ã–±—Ä–∞—Ç—å —Å–æ–±—ã—Ç–∏—è: `payment.succeeded`, `payment.canceled`

## ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:
- [ ] –û—Ç–∫—Ä—ã—Ç—å `https://–≤–∞—à-–ø—Ä–æ–µ–∫—Ç.up.railway.app` - –¥–æ–ª–∂–µ–Ω –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- [ ] –û—Ç–ø—Ä–∞–≤–∏—Ç—å `/start` –±–æ—Ç—É - –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –∫–Ω–æ–ø–∫–∏
- [ ] –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç - –¥–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –∫–Ω–æ–ø–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏
- [ ] –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É –ø–æ–¥–ø–∏—Å–∫–∏ - –¥–æ–ª–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å—Å—è –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –≤ Railway:
–î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è:
- [ ] ‚úÖ "–í–µ–±-—Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ"
- [ ] ‚úÖ "–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å Telegram API —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ"
- [ ] ‚úÖ "Healthcheck —Å–µ—Ä–≤–µ—Ä —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω"

## üö® –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ë—ã—Å—Ç—Ä–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:
1. **–ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç** ‚Üí –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `TELEGRAM_TOKEN`
2. **–ú–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è** ‚Üí –ü—Ä–æ–≤–µ—Ä–∏—Ç—å URL –≤ @BotFather
3. **–ü–ª–∞—Ç–µ–∂–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç** ‚Üí –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–ª—é—á–∏ YooKassa
4. **–û—à–∏–±–∫–∏ –¥–µ–ø–ª–æ—è** ‚Üí –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –≤ Railway

### –ì–¥–µ –∏—Å–∫–∞—Ç—å –ª–æ–≥–∏:
- Railway: **Deployments** ‚Üí –≤—ã–±—Ä–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π
- Telegram: –æ—Ç–ø—Ä–∞–≤–∏—Ç—å `/help` –±–æ—Ç—É –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã

---

## üéØ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –ø—É–Ω–∫—Ç–æ–≤ –≤–∞—à –±–æ—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ! 

–î–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å–º. [RAILWAY_DEPLOY.md](RAILWAY_DEPLOY.md) 